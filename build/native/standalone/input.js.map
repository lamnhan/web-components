{"mappings":"A,C,KCGA,IAAM,EAAQ,IAAI,cAClB,EAAM,WAAA,CAAY,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmEnB,CAAC,EAGD,IAAM,EAAW,SAAS,aAAA,CAAc,WACxC,CAAA,EAAS,SAAA,CAAY,CAAC;;;;;;;;AAQtB,CAAC,AAGM,OAAM,UAAoB,YAQ/B,aAAc,CACZ,KAAK,GARC,IAAA,CAAA,QAAA,CAAoC,KACpC,IAAA,CAAA,SAAA,CAAgC,KAChC,IAAA,CAAA,SAAA,CAAqC,KACrC,IAAA,CAAA,WAAA,CAAkC,KAMxC,IAAI,CAAC,YAAA,CAAa,CAAE,KAAM,MAAO,GAC7B,IAAI,CAAC,UAAA,GAEP,IAAI,CAAC,UAAA,CAAW,WAAA,CAAY,EAAS,OAAA,CAAQ,SAAA,CAAU,CAAA,IACvD,IAAI,CAAC,UAAA,CAAW,kBAAA,CAAqB,CAAC,EAAM,CAE5C,IAAI,CAAC,QAAA,CAAW,IAAI,CAAC,UAAA,CAAW,aAAA,CAAc,SAC9C,IAAI,CAAC,SAAA,CAAY,IAAI,CAAC,UAAA,CAAW,aAAA,CAAc,UAC/C,IAAI,CAAC,SAAA,CAAY,IAAI,CAAC,UAAA,CAAW,aAAA,CAAc,SAC/C,IAAI,CAAC,WAAA,CAAc,IAAI,CAAC,UAAA,CAAW,aAAA,CAAc,MAErD,CAEA,mBAAoB,CAElB,IAAM,EAAQ,IAAI,CAAC,YAAA,CAAa,QAC5B,CAAA,IAAI,CAAC,SAAA,EAAa,GACpB,CAAA,IAAI,CAAC,SAAA,CAAU,WAAA,CAAc,CAD/B,EAIA,IAAM,EAAc,IAAI,CAAC,YAAA,CAAa,eAClC,GACF,CAAA,IAAI,CAAC,WAAA,CAAc,KAAK,KAAA,CAAM,EADhC,EAII,IAAI,CAAC,SAAA,EACP,IAAI,CAAC,SAAA,CAAU,gBAAA,CAAiB,QAAS,AAAA,GAAK,IAAI,CAAC,OAAA,CAAQ,GAE/D,CAEQ,QAAQ,CAAQ,CAAE,CACxB,GAAI,CAAC,IAAI,CAAC,WAAA,EAAe,CAAC,IAAI,CAAC,QAAA,EAAY,CAAC,IAAI,CAAC,SAAA,EAAa,CAAC,IAAI,CAAC,WAAA,CAAa,OACjF,IAAM,EAAS,GAAG,QAA6B,MAC/C,IAAK,IAAI,EAAI,EAAG,EAAI,IAAI,CAAC,WAAA,CAAY,MAAA,CAAQ,IAAK,CAChD,GAAM,CAAA,OAAE,CAAM,CAAA,KAAE,CAAI,CAAA,QAAE,CAAO,CAAE,CAAG,IAAI,CAAC,WAAW,CAAC,EAAE,CAC/C,EAAQ,EAAM,WAAA,KAAkB,EAAO,WAA7C,GAGA,GAFA,IAAI,CAAC,WAAA,CAAY,WAAA,CAAc,AAAC,EAAa,EAAL,GACxC,IAAI,CAAC,QAAA,EAAU,SAAS,CAAC,AAAC,EAAmB,MAAX,SAAiB,CAAC,GAChD,EAAO,KACb,CACF,CACF,CAEA,eAAe,MAAA,CAAO,eAAgB,E,C","sources":["<anon>","src/native/input.ts"],"sourcesContent":["(() => {\n// <style>\nconst $68bff44cd1c3e89d$var$style = new CSSStyleSheet();\n$68bff44cd1c3e89d$var$style.replaceSync(`\n  :host {\n    display: block;\n    container-type: inline-size;\n    position: relative;\n    width: 100%;\n  }\n  \n  label {\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    font-family: Lucida Sans, Verdana, sans-serif;\n  }\n\n  strong {\n    margin-bottom: 0.5rem;\n    font-size: 2rem;\n  }\n\n  div {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n  }\n\n  input {\n    flex: 1;\n    outline: none;\n    box-sizing: border-box;\n    height: 3.5rem;\n    padding: 0.5rem 1rem;\n    background-color: #fff;\n    border: 2px solid #ccc;\n    border-radius: 0.25rem 0 0 0.25rem;\n    font-size: 1.5rem;\n  }\n\n  em {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    box-sizing: border-box;\n    font-style: normal;\n    width: 3.5rem;\n    height: 3.5rem;\n    background-color: #ccc;\n    border-radius: 0 0.25rem 0.25rem 0;\n    text-shadow: 0px 0px 2px #fff;\n    font-size: 3rem;\n  }\n\n  .error input {\n    border-color: var(--color-danger);\n  }\n\n  .error em {\n    background-color: var(--color-danger);\n  }\n\n  .success input {\n    border-color: var(--color-success);\n  }\n\n  .success em {\n    background-color: var(--color-success);\n  }\n`);\n// <template>\nconst $68bff44cd1c3e89d$var$template = document.createElement(\"template\");\n$68bff44cd1c3e89d$var$template.innerHTML = `\n  <label part=\"input\">\n    <strong>Label</strong>\n    <div>\n      <input type=\"text\" />\n      <em></em>\n    </div>\n  </label>\n`;\nclass $68bff44cd1c3e89d$export$7349d22023f097e4 extends HTMLElement {\n    constructor(){\n        super();\n        this.rootNode = null;\n        this.labelNode = null;\n        this.inputNode = null;\n        this.messageNode = null;\n        this.attachShadow({\n            mode: \"open\"\n        });\n        if (this.shadowRoot) {\n            // set template/style\n            this.shadowRoot.appendChild($68bff44cd1c3e89d$var$template.content.cloneNode(true));\n            this.shadowRoot.adoptedStyleSheets = [\n                $68bff44cd1c3e89d$var$style\n            ];\n            // access children\n            this.rootNode = this.shadowRoot.querySelector(\"label\");\n            this.labelNode = this.shadowRoot.querySelector(\"strong\");\n            this.inputNode = this.shadowRoot.querySelector(\"input\");\n            this.messageNode = this.shadowRoot.querySelector(\"em\");\n        }\n    }\n    connectedCallback() {\n        // label\n        const label = this.getAttribute(\"label\");\n        if (this.labelNode && label) this.labelNode.textContent = label;\n        // validations\n        const validations = this.getAttribute(\"validations\");\n        if (validations) this.validations = JSON.parse(validations);\n        // events\n        if (this.inputNode) this.inputNode.addEventListener(\"input\", (e)=>this.onInput(e));\n    }\n    onInput(e) {\n        if (!this.validations || !this.rootNode || !this.inputNode || !this.messageNode) return;\n        const value = (e?.target)?.value;\n        for(let i = 0; i < this.validations.length; i++){\n            const { equals: equals, type: type, message: message } = this.validations[i];\n            const match = value.toLowerCase() === equals.toLowerCase();\n            this.messageNode.textContent = !match ? \"\" : message;\n            this.rootNode?.classList[!match ? \"remove\" : \"add\"](type);\n            if (match) break;\n        }\n    }\n}\ncustomElements.define(\"native-input\", $68bff44cd1c3e89d$export$7349d22023f097e4);\n\n})();\n//# sourceMappingURL=input.js.map\n","import { Validation } from '../types';\n\n// <style>\nconst style = new CSSStyleSheet();\nstyle.replaceSync(`\n  :host {\n    display: block;\n    container-type: inline-size;\n    position: relative;\n    width: 100%;\n  }\n  \n  label {\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    font-family: Lucida Sans, Verdana, sans-serif;\n  }\n\n  strong {\n    margin-bottom: 0.5rem;\n    font-size: 2rem;\n  }\n\n  div {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n  }\n\n  input {\n    flex: 1;\n    outline: none;\n    box-sizing: border-box;\n    height: 3.5rem;\n    padding: 0.5rem 1rem;\n    background-color: #fff;\n    border: 2px solid #ccc;\n    border-radius: 0.25rem 0 0 0.25rem;\n    font-size: 1.5rem;\n  }\n\n  em {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    box-sizing: border-box;\n    font-style: normal;\n    width: 3.5rem;\n    height: 3.5rem;\n    background-color: #ccc;\n    border-radius: 0 0.25rem 0.25rem 0;\n    text-shadow: 0px 0px 2px #fff;\n    font-size: 3rem;\n  }\n\n  .error input {\n    border-color: var(--color-danger);\n  }\n\n  .error em {\n    background-color: var(--color-danger);\n  }\n\n  .success input {\n    border-color: var(--color-success);\n  }\n\n  .success em {\n    background-color: var(--color-success);\n  }\n`);\n\n// <template>\nconst template = document.createElement('template');\ntemplate.innerHTML = `\n  <label part=\"input\">\n    <strong>Label</strong>\n    <div>\n      <input type=\"text\" />\n      <em></em>\n    </div>\n  </label>\n`;\n\n// <script>\nexport class NativeInput extends HTMLElement {\n  private rootNode: null | HTMLLabelElement = null;\n  private labelNode: null | HTMLElement = null;\n  private inputNode: null | HTMLInputElement = null;\n  private messageNode: null | HTMLElement = null;\n\n  private validations?: Validation[];\n\n  constructor() {\n    super();\n    this.attachShadow({ mode: 'open' });\n    if (this.shadowRoot) {\n      // set template/style\n      this.shadowRoot.appendChild(template.content.cloneNode(true));\n      this.shadowRoot.adoptedStyleSheets = [style];\n      // access children\n      this.rootNode = this.shadowRoot.querySelector('label');\n      this.labelNode = this.shadowRoot.querySelector('strong');\n      this.inputNode = this.shadowRoot.querySelector('input');\n      this.messageNode = this.shadowRoot.querySelector('em');\n    }\n  }\n\n  connectedCallback() {\n    // label\n    const label = this.getAttribute('label');\n    if (this.labelNode && label) {\n      this.labelNode.textContent = label;\n    }\n    // validations\n    const validations = this.getAttribute('validations');\n    if (validations) {\n      this.validations = JSON.parse(validations);\n    }\n    // events\n    if (this.inputNode) {\n      this.inputNode.addEventListener('input', e => this.onInput(e));\n    }\n  }\n\n  private onInput(e: Event) {\n    if (!this.validations || !this.rootNode || !this.inputNode || !this.messageNode) return;\n    const value = (e?.target as HTMLInputElement)?.value;\n    for (let i = 0; i < this.validations.length; i++) {\n      const { equals, type, message } = this.validations[i];\n      const match = value.toLowerCase() === equals.toLowerCase();\n      this.messageNode.textContent = !match ? '' : message;\n      this.rootNode?.classList[!match ? 'remove' : 'add'](type);\n      if (match) break;\n    }\n  }\n}\n\ncustomElements.define('native-input', NativeInput);\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'native-input': NativeInput;\n  }\n}\n"],"names":["$68bff44cd1c3e89d$var$style","CSSStyleSheet","replaceSync","$68bff44cd1c3e89d$var$template","document","createElement","innerHTML","$68bff44cd1c3e89d$export$7349d22023f097e4","HTMLElement","constructor","rootNode","labelNode","inputNode","messageNode","attachShadow","mode","shadowRoot","appendChild","content","cloneNode","adoptedStyleSheets","querySelector","connectedCallback","label","getAttribute","textContent","validations","JSON","parse","addEventListener","e","onInput","value","target","i","length","equals","type","message","match","toLowerCase","classList","customElements","define"],"version":3,"file":"input.js.map"}